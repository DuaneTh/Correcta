---
phase: 06-ui-kit-integration
plan: 04
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - app/teacher/courses/[courseId]/TeacherCourseDetailClient.tsx
  - app/teacher/exams/new/NewExamFormClient.tsx
  - app/dashboard/exams/[examId]/grading/GradingDashboard.tsx
  - app/dashboard/exams/[examId]/grading/[attemptId]/GradingView.tsx
autonomous: true

must_haves:
  truths:
    - "Teacher course detail page uses Card, Badge, Button instead of raw HTML"
    - "New exam form uses Form components (Input, Select, Textarea) and Stack for layout"
    - "Grading dashboard uses UI Kit for stats, filters, and student list"
    - "Grading view uses UI Kit for score display, feedback sections, and action buttons"
  artifacts:
    - path: "app/teacher/courses/[courseId]/TeacherCourseDetailClient.tsx"
      provides: "Migrated course detail page"
      contains: "import.*Button.*from.*@/components/ui/Button"
    - path: "app/teacher/exams/new/NewExamFormClient.tsx"
      provides: "Migrated exam creation form"
      contains: "import.*Input.*from.*@/components/ui/Form"
    - path: "app/dashboard/exams/[examId]/grading/GradingDashboard.tsx"
      provides: "Migrated grading dashboard"
      contains: "import.*Card.*from.*@/components/ui/Card"
    - path: "app/dashboard/exams/[examId]/grading/[attemptId]/GradingView.tsx"
      provides: "Migrated individual grading view"
      contains: "import.*Text.*from.*@/components/ui/Text"
  key_links:
    - from: "app/dashboard/exams/[examId]/grading/GradingDashboard.tsx"
      to: "components/ui/Badge.tsx"
      via: "import for grading status"
      pattern: "import.*Badge.*from.*@/components/ui/Badge"
---

<objective>
Migrate all teacher pages (course detail, exam creation) and grading pages (dashboard, grading view) to UI Kit components.

Purpose: Teacher and grading pages are the most used pages in the app. Migrating them delivers the highest visual consistency impact. Covers UIKIT-03 requirement.

Output: 4 fully migrated teacher/grading pages using UI Kit components.
</objective>

<execution_context>
@C:\Users\hugol\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\hugol\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@app/teacher/courses/TeacherCoursesClient.tsx (reference implementation — already migrated)
@components/ui/Button.tsx
@components/ui/Card.tsx
@components/ui/Text.tsx
@components/ui/Layout.tsx
@components/ui/Badge.tsx
@components/ui/Form.tsx
@components/ui/SearchField.tsx
@components/ui/SegmentedControl.tsx
@components/ui/StatPill.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate TeacherCourseDetailClient.tsx and NewExamFormClient.tsx</name>
  <files>
    app/teacher/courses/[courseId]/TeacherCourseDetailClient.tsx
    app/teacher/exams/new/NewExamFormClient.tsx
  </files>
  <action>
    **TeacherCourseDetailClient.tsx (426 lines):**
    Follow TeacherCoursesClient.tsx as the reference. This page shows course details with exam list:
    - Page header (course name, back link) → Text variant="pageTitle" + Inline + TextLink
    - Course info section → Card + CardBody
    - Exam list → Grid or Stack of Card components
    - Exam status → StatusBadge (draft/published/scheduled)
    - Action buttons (create exam, edit) → Button variants
    - Stats (exam count, student count) → StatPill
    - Empty state (no exams) → EmptyState with action button

    **NewExamFormClient.tsx (664 lines):**
    This is a multi-step form for creating exams:
    - Form container → Card + CardBody or Surface
    - Form fields → Input, Select, Textarea from Form
    - Labels → Text variant="label"
    - Section headers → Text variant="sectionTitle"
    - Step navigation → Button variant="secondary" for back, Button variant="primary" for next
    - Form layout → Stack for vertical flow, Inline for button rows
    - Validation messages → Text variant="caption" with red color via className
    - Duration input → Input with type="number"

    IMPORTANT: Do NOT change any exam editor logic, Zustand store interactions, or form submission handlers. Only replace HTML elements with UI Kit components.
  </action>
  <verify>Run `npx tsc --noEmit` — zero errors. Both files import from @/components/ui/.</verify>
  <done>TeacherCourseDetailClient and NewExamFormClient fully migrated. No raw button/card/form HTML patterns.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate GradingDashboard.tsx and GradingView.tsx</name>
  <files>
    app/dashboard/exams/[examId]/grading/GradingDashboard.tsx
    app/dashboard/exams/[examId]/grading/[attemptId]/GradingView.tsx
  </files>
  <action>
    **GradingDashboard.tsx (730 lines):**
    Main grading hub showing all student attempts for an exam:
    - Page header → Text variant="pageTitle" + Inline with action buttons
    - Stats bar (graded/total, average score) → Inline of StatPill components
    - Filter tabs (all, ungraded, graded, modified) → SegmentedControl
    - Student attempt list → Stack of Card components
    - Each attempt card → Card + CardBody with Inline for student name + score + status
    - Score display → Badge (success for high, warning for medium, neutral for low)
    - Action buttons (Grade All, Export) → Button variants
    - Search → SearchField
    - Empty states → EmptyState

    **GradingView.tsx (580 lines):**
    Individual student grading view:
    - Student info header → Inline with Text for name + Badge for status
    - Question sections → Stack of Card + CardBody
    - Score display → Text with color coding (keep existing color logic, wrap in Badge)
    - AI/Human badges → Badge variant="info" for AI, Badge variant="warning" for human-modified
    - Feedback display → Card + CardBody with Text
    - Action buttons (edit grade, re-grade) → Button variants
    - Navigation (prev/next student) → Button variant="secondary"
    - MathRenderer usage → keep intact, do not modify math rendering

    IMPORTANT: Preserve all grading logic, score calculations, AI badge detection, MathRenderer integration. Only replace raw HTML wrappers.
  </action>
  <verify>Run `npx tsc --noEmit` — zero errors. Both files import from @/components/ui/.</verify>
  <done>GradingDashboard and GradingView fully migrated. Grading functionality preserved. SegmentedControl used for filters.</done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes
2. All 4 files import from @/components/ui/*
3. GradingDashboard uses SegmentedControl for filter tabs
4. GradingView preserves MathRenderer integration
5. No raw HTML button/card/badge patterns in teacher/grading pages
</verification>

<success_criteria>
- All 4 teacher/grading pages use UI Kit components
- UIKIT-03 (teacher pages) complete
- Grading workflow visually consistent with admin pages
- Math rendering unaffected
</success_criteria>

<output>
After completion, create `.planning/phases/06-ui-kit-integration/06-04-SUMMARY.md`
</output>
